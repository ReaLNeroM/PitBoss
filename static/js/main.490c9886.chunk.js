(this["webpackJsonppitboss-client"]=this["webpackJsonppitboss-client"]||[]).push([[0],{37:function(e,t,a){e.exports=a(73)},42:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(34),l=a.n(i),o=(a(42),a(8)),s=a(9),c=a(11),m=a(10),u=a(19),d=a(12),v=a(3),h=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={title:e.title,description:e.description},r}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state.title,t=this.props.location.pathname.slice(1);return n.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark primary-color"},n.a.createElement(d.b,{as:d.b,className:"navbar-brand",to:"all-requests"},e),n.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#basicExampleNav","aria-controls":"basicExampleNav","aria-expanded":"false","aria-label":"Toggle navigation"},n.a.createElement("span",{className:"navbar-toggler-icon"})),n.a.createElement("div",{className:"collapse navbar-collapse",id:"basicExampleNav"},n.a.createElement("ul",{className:"navbar-nav mr-auto"},n.a.createElement("li",{className:"nav-item "+("all-requests"===t?"active":"")},n.a.createElement(u.a.Link,{className:"nav-link",as:d.b,href:"all-requests",to:"all-requests"},"Deliver!")),n.a.createElement("li",{className:"nav-item "+("ask-for-delivery"===t?"active":"")},n.a.createElement(u.a.Link,{className:"nav-link",as:d.b,href:"ask-for-delivery",to:"ask-for-delivery"},"Ask for delivery")),n.a.createElement("li",{className:"nav-item "+("my-deliveries"===t?"active":"")},n.a.createElement(u.a.Link,{className:"nav-link",as:d.b,href:"my-deliveries",to:"my-deliveries"},"My deliveries"))),n.a.createElement("ul",{className:"navbar-nav mr-auto mr-sm-2"},n.a.createElement("li",{className:"nav-item dropdown"},n.a.createElement("div",{className:"nav-link dropdown-toggle waves-effect waves-light",id:"navbarDropdownMenuLink-4","data-toggle":"dropdown","aria-haspopup":"true",href:"#","aria-expanded":"true"},n.a.createElement("i",{className:"fas fa-user"}),"Profile"),n.a.createElement("div",{className:"dropdown-menu dropdown-menu-right dropdown-info","aria-labelledby":"navbarDropdownMenuLink-4"},n.a.createElement("div",{className:"dropdown-item waves-effect waves-light",href:"#"},"My account"),n.a.createElement("div",{className:"dropdown-item waves-effect waves-light",href:"#"},"Log out"))))))}}]),a}(n.a.Component),p=Object(v.f)(h),f={None:"N/A",Pit:"Pit",Starbucks:"Starbucks",GrabNGo:"Grab N' Go"};var b=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={apiUrl:e.apiUrl,fullName:"",dormAndRoom:"",email:"",foodStation:f.None,orderNumber:""},r}return Object(s.a)(a,[{key:"fullNameChanged",value:function(e){this.setState({fullName:e.target.value})}},{key:"dormAndRoomChanged",value:function(e){this.setState({dormAndRoom:e.target.value})}},{key:"emailChanged",value:function(e){this.setState({email:e.target.value})}},{key:"foodStationChanged",value:function(e){this.setState({foodStation:e.target.value})}},{key:"orderNumberChanged",value:function(e){this.setState({orderNumber:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=new FormData(e.target),a={schemaVersion:"1",fullName:t.get("fullName"),dormAndRoom:t.get("dormAndRoom"),email:t.get("email"),foodStation:this.state.foodStation,orderNumber:t.get("orderNumber")},r=function(e){return""===e.schemaVersion.trim()?"Schema version is empty":""!==e.fullName.trim()&&e.fullName.trim().includes(" ")?""===e.dormAndRoom.trim()?"Please enter dorm and room number":""!==e.email.trim()&&e.email.includes("@u.rochester.edu")?"N/A"===e.foodStation?"Please enter what GrubHub station you ordered from":""===e.orderNumber?"Please enter order number":"":"Please enter valid e-mail (must contain @u.rochester.edu)":"Please enter full name"}(a);""===r?fetch("".concat(this.state.apiUrl,"/create_request"),{method:"POST",body:JSON.stringify(a),headers:{"content-type":"application/json"}}).then(this.props.history.push("/all-requests")):alert("Error: ".concat(r,"."))}},{key:"render",value:function(){var e=this.state,t=e.fullName,a=e.dormAndRoom,r=e.email,i=e.foodStation,l=e.orderNumber,o=this.fullNameChanged.bind(this),s=this.dormAndRoomChanged.bind(this),c=this.emailChanged.bind(this),m=this.foodStationChanged.bind(this),u=this.orderNumberChanged.bind(this),d=this.handleSubmit.bind(this);return n.a.createElement("form",{onSubmit:d},n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{type:"text",className:"form-control",onChange:o,id:"fullName",name:"fullName",placeholder:"Full Name",value:t})),n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{type:"text",className:"form-control",onChange:s,id:"dormAndRoom",name:"dormAndRoom",placeholder:"Dorm and Room",value:a})),n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{type:"text",className:"form-control",onChange:c,id:"email",name:"email",placeholder:"email@u.rochester.edu",value:r})),n.a.createElement("div",{className:"form-row"},n.a.createElement("div",{className:"form-group col-md-6"},n.a.createElement("select",{className:"form-control",onChange:m,id:"foodStation",name:"foodStation",value:i},n.a.createElement("option",{disabled:!0,value:f.None}," GrubHub Station "),n.a.createElement("option",{value:f.Pit},"Pit"),n.a.createElement("option",{value:f.Starbucks},"Starbucks"),n.a.createElement("option",{value:f.GrabNGo},"Grab N' Go"))),n.a.createElement("div",{className:"form-group col-md-6"},n.a.createElement("input",{type:"text",className:"form-control",onChange:u,id:"orderNumber",name:"orderNumber",placeholder:"Order Number(s)",value:l}))),n.a.createElement("button",{type:"submit",id:"submitButton",className:"btn btn-primary float-right"},"Send pick-up request"))}}]),a}(n.a.Component),g=Object(v.f)(b),y=a(15),N=a.n(y),E=a(17),k=a(14),w=a(18),S=a.n(w),j=(a(69),function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={error:null,apiUrl:e.apiUrl,myDeliveries:[],haveMyDeliveriesLoaded:!1},r.getDeliveries=r.getDeliveries.bind(Object(k.a)(r)),r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getDeliveries()}},{key:"getDeliveries",value:function(){var e=Object(E.a)(N.a.mark((function e(){var t=this;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.a.get("".concat(this.state.apiUrl,"/my_deliveries")).then((function(e){return e.data})).then((function(e){return t.setState({myDeliveries:e,haveMyDeliveriesLoaded:!0})})).catch((function(e){return t.setState({error:e,haveMyDeliveriesLoaded:!0})}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.error,a=e.myDeliveries,r=e.haveMyDeliveriesLoaded,i=a.map((function(e){return n.a.createElement("li",{key:e._id,className:"list-group-item d-flex justify-content-between align-items-center mb-2"},e.foodStation,n.a.createElement("div",{className:"d-flex align-items-center float-right"},n.a.createElement("div",{style:{marginRight:"1rem"}},e.time)))}));return n.a.createElement("div",{id:"my-deliveries"},n.a.createElement("div",{id:"load-my-deliveries",style:r?{display:"none"}:{}},n.a.createElement("img",{src:"/PitBoss/loading.gif",alt:"Loading..."})),n.a.createElement("div",{id:"error-my-deliveries",className:"alert alert-danger",style:null===t?{display:"none"}:{}},"An error has occured. Please try again."),n.a.createElement("ul",{id:"deliveries-list",className:"list-group",style:r?{}:{display:"none"}},i))}}]),a}(n.a.Component)),O=(a(70),a(36)),q=a.n(O);var D=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={apiUrl:e.apiUrl,requests:[],haveRequestsLoaded:!1},r.getRequests=r.getRequests.bind(Object(k.a)(r)),r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getRequests()}},{key:"getRequests",value:function(){var e=Object(E.a)(N.a.mark((function e(){var t=this;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.a.get("".concat(this.state.apiUrl,"/requests")).then((function(e){return e.data})).then((function(e){return t.setState({requests:e,haveRequestsLoaded:!0})}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.requests,a=e.haveRequestsLoaded,r=t.map((function(e){return n.a.createElement("li",{key:e._id,className:"list-group-item d-flex justify-content-between align-items-center mb-2"},e.foodStation,n.a.createElement("div",{className:"d-flex align-items-center float-right"},n.a.createElement("div",{style:{marginRight:"1rem"}},function(e){var t=new Date(Date.parse(e));return q()(t)}(e.created)),n.a.createElement("button",{className:"float-right btn btn-dark"},"Deliver!")))}));return n.a.createElement("div",{id:"requests"},n.a.createElement("div",{id:"load-requests",style:a?{display:"none"}:{}},n.a.createElement("img",{src:"/PitBoss/loading.gif",alt:"Loading..."})),n.a.createElement("ul",{id:"requests-list",className:"list-group",style:a?{}:{display:"none"}},r))}}]),a}(n.a.Component),x=(a(71),a(72),function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{id:"App",className:"container"},n.a.createElement(d.a,{basename:"/PitBoss",hashType:"noslash"},n.a.createElement("div",{id:"navBar"},n.a.createElement(p,{title:"PitBoss",description:"Help out and deliver food for students in quarantine! (UR only)"})),n.a.createElement(v.c,null,n.a.createElement(v.a,{path:"/",exact:!0},n.a.createElement(D,{apiUrl:"https://pitboss-vlad.herokuapp.com/"})),n.a.createElement(v.a,{path:"/all-requests",render:function(){return n.a.createElement(D,{apiUrl:"https://pitboss-vlad.herokuapp.com/"})},exact:!0}),n.a.createElement(v.a,{path:"/ask-for-delivery",render:function(){return n.a.createElement("div",{id:"deliveryForm"},n.a.createElement(g,{apiUrl:"https://pitboss-vlad.herokuapp.com/"}))},exact:!0}),n.a.createElement(v.a,{path:"/my-deliveries",render:function(){return n.a.createElement("div",{id:"myDeliveriesPanel"},n.a.createElement(j,null))},exact:!0}))))}}]),a}(r.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.490c9886.chunk.js.map