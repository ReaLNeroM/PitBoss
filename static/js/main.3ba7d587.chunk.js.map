{"version":3,"sources":["NavBar.js","FoodStation.js","FoodDeliveryForm.js","MyDeliveriesPanel.js","ShortStrings.js","RequestsPanel.js","RegisterForm.js","LoginForm.js","App.js","serviceWorker.js","index.js"],"names":["NavBar","props","state","apiUrl","title","isLoggedIn","onLoginChange","loginModalChange","bind","registerModalChange","prevProps","oldTitle","oldIsLoggedin","this","setState","fetch","method","credentials","then","response","json","data","userId","location","doLogout","tab","pathname","slice","prettyTabName","toPrettyTabName","className","as","Link","to","data-toggle","aria-expanded","type","data-target","aria-controls","aria-label","id","Nav","href","aria-haspopup","aria-labelledby","value","onClick","React","Component","withRouter","FoodStation","None","Pit","Starbucks","GrabNGo","FoodDeliveryForm","error","foodStation","oldIsLoggedIn","oldUserId","event","target","preventDefault","formData","FormData","request","schemaVersion","orderNumber","get","validationError","trim","validateRequest","body","JSON","stringify","headers","history","push","foodStationChanged","handleSubmit","onSubmit","role","onChange","name","required","disabled","placeholder","MyDeliveriesPanel","myDeliveries","haveMyDeliveriesLoaded","getDeliveries","Error","message","catch","myDeliveriesList","map","delivery","index","style","display","src","process","alt","strings","prefixAgo","prefixFromNow","suffixAgo","suffixFromNow","seconds","minute","minutes","hour","hours","day","days","month","months","year","years","wordSeparator","RequestsPanel","requests","haveRequestsLoaded","getRequests","newRequests","requestsLength","length","requestsList","req","key","requestId","timestamp","formatter","buildFormatter","englishStrings","time","Date","parse","date","toLocalDelta","created","RegisterForm","hasAllergy","registerModalShow","oldRegisterModalShow","checked","fullName","dormAndRoom","email","allergies","password","registerData","includes","status","console","log","allergyChanged","Modal","show","centered","Header","Body","autoComplete","defaultChecked","htmlFor","Footer","data-dismiss","Login","loginModalShow","oldLoginModalShow","loginData","App","startSession","ok","statusText","err","basename","hashType","LoginForm","exact","path","render","class","Boolean","window","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.3ba7d587.chunk.js","sourcesContent":["import React from 'react';\nimport Nav from 'react-bootstrap/Nav';\nimport { Link, withRouter } from 'react-router-dom';\n\nfunction toPrettyTabName(tab){\n    if(tab === \"all-requests\"){\n        return \"Deliver!\";\n    } else if(tab === \"ask-for-delivery\"){\n        return \"Request\";\n    } else if(tab === \"my-deliveries\"){\n        return \"My history\"\n    } else {\n        return \"\";\n    }\n}\n\nclass NavBar extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            apiUrl: props.apiUrl,\n            title: props.title,\n            isLoggedIn: props.isLoggedIn,\n            onLoginChange: props.onLoginChange,\n            loginModalChange: props.loginModalChange.bind(this),\n            registerModalChange: props.registerModalChange.bind(this)\n        };\n    }\n\n    componentDidUpdate(prevProps) {\n        const { title: oldTitle, isLoggedIn: oldIsLoggedin } = prevProps;\n        const { title, isLoggedIn } = this.props;\n\n        if (title !== oldTitle || isLoggedIn !== oldIsLoggedin) {\n            this.setState({ title: title, isLoggedIn: isLoggedIn });\n        }\n    }\n\n    async doLogout() {\n        fetch(`${this.state.apiUrl}/auth/logout`, {\n            method: 'POST',\n            credentials: 'include'\n        })\n            .then(response => response.json())\n            .then(data => this.state.onLoginChange({\n                isLoggedIn: false,\n                userId: null\n            }));\n    }\n\n    render() {\n        const { title, isLoggedIn, loginModalChange, registerModalChange } = this.state;\n        const { location } = this.props;\n        const doLogout = this.doLogout.bind(this);\n        const tab = location.pathname.slice(1);\n        const prettyTabName = toPrettyTabName(tab);\n\n        return (\n            <nav className=\"navbar navbar-expand-lg navbar-dark primary-color\">\n                <Link as={Link} className=\"navbar-brand\" to=\"all-requests\">{title}</Link>\n\n                <div className=\"navbar-toggler\" data-toggle=\"collapse\"\n                    aria-expanded=\"false\">\n                    {prettyTabName}\n                </div>\n\n                <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#basicExampleNav\"\n                    aria-controls=\"basicExampleNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                    <span className=\"navbar-toggler-icon\"></span>\n                </button>\n\n                <div className=\"collapse navbar-collapse\" id=\"basicExampleNav\">\n                    <ul className=\"navbar-nav mr-auto\">\n                        <li className={\"nav-item \" + ((tab === \"all-requests\" || tab === \"\") ? \"active\" : \"\")}>\n                            <Nav.Link className=\"nav-link\" as={Link} href=\"all-requests\" to=\"all-requests\">\n                                Deliver!\n                            </Nav.Link>\n                        </li>\n                        <li className={\"nav-item \" + (tab === \"ask-for-delivery\" ? \"active\" : \"\")}>\n                            <Nav.Link className=\"nav-link\" as={Link} href=\"ask-for-delivery\" to=\"ask-for-delivery\">\n                                Ask for delivery\n                            </Nav.Link>\n                        </li>\n                        <li className={\"nav-item \" + (tab === \"my-deliveries\" ? \"active\" : \"\")}>\n                            <Nav.Link className=\"nav-link\" as={Link} href=\"my-deliveries\" to=\"my-deliveries\">\n                                My requests and deliveries\n                            </Nav.Link>\n                        </li>\n                    </ul>\n\n                    <ul className=\"navbar-nav mr-auto mr-sm-2\">\n                        <li className=\"nav-item dropdown\">\n                            <div\n                                className=\"nav-link dropdown-toggle waves-effect waves-light\"\n                                id=\"navbarDropdownMenuLink-4\"\n                                data-toggle=\"dropdown\"\n                                aria-haspopup=\"true\"\n                                href=\"#\"\n                                aria-expanded=\"true\">\n                                <i className=\"fas fa-user\" />\n                                {isLoggedIn ? \"Profile\" : \"Not logged in\"}\n                            </div>\n                            <div\n                                className=\"dropdown-menu dropdown-menu-right dropdown-info\"\n                                aria-labelledby=\"navbarDropdownMenuLink-4\">\n                                {isLoggedIn === false &&\n                                    <div>\n                                        <button\n                                            value={true}\n                                            className=\"dropdown-item waves-effect waves-light\"\n                                            onClick={registerModalChange}>\n                                            Register\n                                        </button>\n                                        <button\n                                            value={true}\n                                            className=\"dropdown-item waves-effect waves-light\"\n                                            onClick={loginModalChange}>\n                                            Login\n                                        </button>\n                                    </div>}\n                                {isLoggedIn === true &&\n                                    <div>\n                                        <button\n                                            id=\"openMyProfile\"\n                                            className=\"dropdown-item waves-effect waves-light\"\n                                            >\n                                            My profile\n                                        </button>\n                                        <button\n                                            className=\"dropdown-item waves-effect waves-light\"\n                                            onClick={doLogout}>\n                                            Logout\n                                        </button>\n                                    </div>}\n                            </div>\n                        </li>\n                    </ul>\n                </div>\n            </nav>\n        );\n    }\n}\n\nexport default withRouter(NavBar);","const FoodStation = {\n    None: \"\", // Empty string isn't ideal, but required for correct <select required> behavior.\n    Pit: \"Pit\",\n    Starbucks: \"Starbucks\",\n    GrabNGo: \"Grab N' Go\"\n}\n\nexport default FoodStation;","import React from 'react';\nimport FoodStation from './FoodStation';\nimport { withRouter } from 'react-router-dom';\n\nfunction validateRequest(request){\n    if(request.schemaVersion.trim() === ''){\n        return \"Schema version is empty\";\n    }\n\n    return \"\";\n}\n\nclass FoodDeliveryForm extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            apiUrl: props.apiUrl,\n            error: null,\n            foodStation: FoodStation.None,\n            isLoggedIn: props.isLoggedIn,\n            userId: props.userId\n        };\n    }\n\n    componentDidUpdate(prevProps) {\n        const { isLoggedIn: oldIsLoggedIn, userId: oldUserId } = prevProps;\n        const { isLoggedIn, userId } = this.props;\n\n        if (isLoggedIn !== oldIsLoggedIn || userId !== oldUserId) {\n            this.setState({ isLoggedIn: isLoggedIn, userId: oldUserId });\n        }\n    }\n\n    foodStationChanged(event) {\n        this.setState({\n            foodStation: event.target.value\n        })\n    }\n\n    handleSubmit(event) {\n        event.preventDefault();\n        const { apiUrl, userId, isLoggedIn } = this.state;\n        const formData = new FormData(event.target);\n\n        const schemaVersion = \"request.1\";\n        const foodStation = this.state.foodStation; // hack because select's default\n                                                    // value doesn't always work.\n        const orderNumber = formData.get(\"orderNumber\");\n\n        const request = {\n            schemaVersion,\n            userId,\n            foodStation,\n            orderNumber\n        };\n        const validationError =\n            (isLoggedIn !== true) ? \"You must be logged in\" : validateRequest(request);\n\n        if(validationError === ''){\n            fetch(`${apiUrl}/create-request`, {\n                method: 'POST',\n                credentials: 'include',\n                body: JSON.stringify(request),\n                headers: {\n                    'content-type': 'application/json'\n                }\n            }).then(this.props.history.push('/all-requests'));\n        } else {\n            this.setState({\n               error: `Error: ${validationError}.`\n            });\n        }\n    }\n\n    render() {\n        const { foodStation, error } = this.state;\n        const foodStationChanged = this.foodStationChanged.bind(this);\n        const handleSubmit = this.handleSubmit.bind(this)\n\n        return (\n            <form onSubmit={handleSubmit}>\n                {error !== null &&\n                    <div className=\"alert alert-danger\" role=\"alert\">\n                        {error}\n                    </div>}\n                <div className=\"form-row\">\n                    <div className=\"form-group col-md-6\">\n                        <select className=\"form-control\"\n                                onChange={foodStationChanged}\n                                id=\"foodStation\"\n                                name=\"foodStation\"\n                                value={foodStation}\n                                required >\n                            <option disabled value={FoodStation.None}> -- Select GrubHub Station -- </option>\n                            <option value={FoodStation.Pit}>Pit</option>\n                            <option value={FoodStation.Starbucks}>Starbucks</option>\n                            <option value={FoodStation.GrabNGo}>Grab N' Go</option>\n                        </select>\n                    </div>\n                    <div className=\"form-group col-md-6\">\n                        <input type=\"text\"\n                               className=\"form-control\"\n                               id=\"orderNumber\"\n                               name=\"orderNumber\"\n                               placeholder=\"Order Number(s)\"\n                               required />\n                    </div>\n                </div>\n\n                <button type=\"submit\"\n                        id=\"submitButton\"\n                        className=\"btn btn-primary float-right\">Send pick-up request</button>\n            </form>\n        );\n    }\n}\n\nexport default withRouter(FoodDeliveryForm);\n","import React from 'react';\nimport './MyDeliveriesPanel.css';\n\nclass MyDeliveriesPanel extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: null,\n            apiUrl: props.apiUrl,\n            myDeliveries: [],\n            haveMyDeliveriesLoaded: false\n        };\n\n        this.getDeliveries = this.getDeliveries.bind(this);\n    }\n\n    componentDidMount() {\n        this.getDeliveries();\n    }\n\n    async getDeliveries() {\n        fetch(`${this.state.apiUrl}/my-deliveries`)\n            .then(response => response.json())\n            .then(data => {\n                if('message' in data){\n                    throw new Error(data.message);\n                }\n\n                this.setState({myDeliveries: data,\n                               haveMyDeliveriesLoaded: true});\n            })\n            .catch(error => this.setState({error: error, myDeliveries: [], haveMyDeliveriesLoaded: true}));\n    }\n\n    render() {\n        const { error, myDeliveries, haveMyDeliveriesLoaded } = this.state;\n        const myDeliveriesList = myDeliveries.map((delivery, index) => <div />);\n\n        return (\n            <div id=\"my-deliveries\">\n                <div id=\"load-my-deliveries\"\n                     style={haveMyDeliveriesLoaded ? {display: 'none'} : {}}>\n                    <img src={process.env.PUBLIC_URL + \"/loading.gif\"} alt=\"Loading...\" />\n                </div>\n                <div id=\"error-my-deliveries\"\n                     className=\"alert alert-info\"\n                     style={error === null ? {display: 'none'}: {}}>\n                     This tab hasn't been implemented yet, please wait ;)\n                </div>\n                <ul id=\"deliveries-list\"\n                    className=\"list-group\"\n                    style={haveMyDeliveriesLoaded ? {} : {display: 'none'}}>\n                    {myDeliveriesList}\n                </ul>\n            </div>\n        );\n    }\n}\n\nexport default MyDeliveriesPanel;\n","/* @flow */\n\n// English shortened\nconst strings = {\n  prefixAgo: null,\n  prefixFromNow: null,\n  suffixAgo: 'ago',\n  suffixFromNow: '',\n  seconds: '<1 min',\n  minute: '1 min',\n  minutes: '%d mins',\n  hour: '1 hr',\n  hours: '%d hrs',\n  day: '1 day',\n  days: '%d days',\n  month: '1 mon',\n  months: '%d mon',\n  year: '1 yr',\n  years: '%d yrs',\n  wordSeparator: ' ',\n}\n\nexport default strings\n","import React from 'react';\nimport './RequestsPanel.css';\nimport TimeAgo from 'react-timeago';\nimport englishStrings from './ShortStrings';\nimport buildFormatter from 'react-timeago/lib/formatters/buildFormatter';\n\nfunction toLocalDelta(timestamp) {\n    const formatter = buildFormatter(englishStrings);\n    const time = new Date(Date.parse(timestamp));\n    return <TimeAgo date={time} formatter={formatter} />;\n}\n\nclass RequestsPanel extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            apiUrl: props.apiUrl,\n            requests: [],\n            haveRequestsLoaded: false\n        };\n\n        this.getRequests = this.getRequests.bind(this);\n    }\n\n    componentDidMount() {\n        this.getRequests();\n    }\n\n    async getRequests() {\n        fetch(`${this.state.apiUrl}/get-requests`, {\n            credentials: 'include'\n        })\n            .then(response => response.json())\n            .then(newRequests => this.setState({requests: newRequests, haveRequestsLoaded: true}));\n    }\n\n    render() {\n        const { requests, haveRequestsLoaded } = this.state;\n        const requestsLength = requests.length;\n        const requestsList = requests.map((req, index) => (\n            <li\n                key={req.requestId}\n                className={\"d-flex justify-content-between list-group-item \" + ((index !== requestsLength - 1) ? \"mb-2\" : \"\")}>\n                <div>\n                    {req.foodStation}\n                    <br />\n                    <br />\n                    {toLocalDelta(req.created)}\n                </div>\n                <div className=\"d-flex align-items-center\">\n                    <button className=\"btn btn-dark\">\n                        Deliver!\n                    </button>\n                </div>\n            </li>\n        ));\n\n        return (\n            <div id=\"requests\">\n                <div id=\"load-requests\"\n                     style={haveRequestsLoaded ? {display: 'none'} : {}}>\n                    <img src={process.env.PUBLIC_URL + \"/loading.gif\"} alt=\"Loading...\" />\n                </div>\n                <ul id=\"requests-list\"\n                    className=\"list-group\"\n                    style={haveRequestsLoaded ? {} : {display: 'none'}}>\n                    {requestsList}\n                </ul>\n            </div>\n        );\n    }\n}\n\nexport default RequestsPanel;\n","import React from 'react';\nimport Modal from 'react-bootstrap/Modal';\n\nfunction validateRequest(registerData){\n    if(registerData.schemaVersion.trim() === ''){\n        return 'Schema version is empty';\n    } else if(!registerData.fullName.trim().includes(' ')){\n        return 'Please enter full name';\n    } else if(!registerData.email.includes('@u.rochester.edu')){\n        return 'Please enter valid e-mail (must contain @u.rochester.edu)';\n    } else if(!registerData.password.length > 6){\n        return 'Please enter a secure password (6 characters or above)'\n    }\n\n    return '';\n}\n\nclass RegisterForm extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            apiUrl: props.apiUrl,\n            hasAllergy: false,\n            error: null,\n            onLoginChange: props.onLoginChange,\n            registerModalShow: props.registerModalShow,\n            registerModalChange: props.registerModalChange\n        };\n    }\n\n    componentDidUpdate(prevProps) {\n        const { registerModalShow: oldRegisterModalShow } = prevProps;\n        const { registerModalShow } = this.props;\n\n        if (registerModalShow !== oldRegisterModalShow) {\n            this.setState({ registerModalShow: registerModalShow });\n        }\n    }\n\n    allergyChanged(event) {\n        this.setState({\n            hasAllergy: event.target.checked\n        });\n    }\n\n    handleSubmit(event) {\n        event.preventDefault();\n        const { apiUrl, hasAllergy, registerModalChange, onLoginChange } = this.state;\n\n        const formData = new FormData(event.target);\n\n        const schemaVersion = 'user.1';\n        const fullName = formData.get('fullName');\n        const dormAndRoom = formData.get('dormAndRoom');\n        const email = formData.get('email');\n        var allergies = formData.get('allergies');\n        if (allergies === null){\n            allergies = \"\";\n        }\n\n        const password = formData.get('password');\n        const passwordRepeat = formData.get('password-repeat');\n\n        const registerData = {\n            schemaVersion,\n            fullName,\n            dormAndRoom,\n            email,\n            password,\n            hasAllergy,\n            allergies\n        };\n\n        const validationError =\n            (password !== passwordRepeat) ?\n                \"Passwords do not match\" :\n                validateRequest(registerData);\n\n        if(validationError === ''){\n            fetch(`${apiUrl}/auth/register`, {\n                method: 'POST',\n                credentials: 'include',\n                body: JSON.stringify(registerData),\n                headers: {\n                    'content-type': 'application/json'\n                }\n            }).then(response =>\n                response.json()\n                    .then(data => {\n                        if(response.status === 200){\n                            registerModalChange(false);\n                            this.setState({\n                                error: null,\n                                registerModalShow: false\n                            });\n                            console.log(`Logged in as ${data.userId}`);\n                            onLoginChange({\n                                isLoggedIn: true,\n                                userId: data.userId\n                            });\n                        } else {\n                            this.setState({\n                                error: `${response.status} Error: ${data.message}`\n                            });\n                        }\n                    })\n            );\n        } else {\n            this.setState({\n                error: `Error: ${validationError}.`\n            });\n        }\n    }\n\n    render() {\n        const { registerModalShow, hasAllergy, error } = this.state;\n        const registerModalChange = this.state.registerModalChange.bind(this);\n        const allergyChanged = this.allergyChanged.bind(this);\n        const handleSubmit = this.handleSubmit.bind(this);\n\n        return (\n            <Modal show={registerModalShow} centered>\n                <Modal.Header>\n                    <h5 className=\"modal-title\" id=\"registerModalLabel\">Register an account</h5>\n                </Modal.Header>\n                <form onSubmit={handleSubmit}>\n                    <Modal.Body>\n                        {error !== null &&\n                            <div className=\"alert alert-danger\" role=\"alert\">\n                                {error}\n                            </div>}\n                        <div className=\"form-group\">\n                            <input type=\"text\"\n                            className=\"form-control\"\n                            id=\"fullName\"\n                            name=\"fullName\"\n                            placeholder=\"Full Name\"\n                            required />\n                        </div>\n                        <div className=\"form-group\">\n                            <input type=\"text\"\n                            className=\"form-control\"\n                            id=\"dormAndRoom\"\n                            name=\"dormAndRoom\"\n                            placeholder=\"Dorm and Room\"\n                            required />\n                        </div>\n                        <div className=\"form-group\">\n                            <input type=\"email\"\n                            className=\"form-control\"\n                            id=\"register-email\"\n                            name=\"email\"\n                            placeholder=\"email@u.rochester.edu\"\n                            autoComplete=\"username\"\n                            required />\n                        </div>\n                        <div className=\"form-group\">\n                            <input type=\"password\"\n                            className=\"form-control\"\n                            id=\"register-password\"\n                            name=\"password\"\n                            placeholder=\"Password\"\n                            autoComplete=\"new-password\"\n                            required />\n                        </div>\n                        <div className=\"form-group\">\n                            <input type=\"password\"\n                            className=\"form-control\"\n                            id=\"register-password-repeat\"\n                            name=\"password-repeat\"\n                            placeholder=\"Password (confirm)\"\n                            autoComplete=\"new-password\"\n                            required />\n                        </div>\n                        <div className=\"form-group form-check\">\n                            <input\n                                type=\"checkbox\"\n                                defaultChecked={hasAllergy}\n                                onChange={allergyChanged}\n                                className=\"form-check-input\"\n                                id=\"exampleCheck1\" />\n                            <label className=\"form-check-label\" htmlFor=\"exampleCheck1\">Any allergies?</label>\n                        </div>\n                        <div className=\"form-group\">\n                            <input type=\"text\"\n                                className=\"form-control\"\n                                id=\"allergies\"\n                                name=\"allergies\"\n                                placeholder=\"Allergies\"\n                                disabled={hasAllergy ? \"\" : \"disabled\"}\n                                required={hasAllergy ? \"required\" : \"\"} />\n                        </div>\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <button\n                            type=\"button\"\n                            onClick={registerModalChange}\n                            className=\"btn btn-secondary\"\n                            data-dismiss=\"modal\">\n                            Close\n                        </button>\n                        <button\n                            type=\"submit\"\n                            id=\"registerButton\"\n                            className=\"btn btn-primary\">\n                            Register\n                        </button>\n                    </Modal.Footer>\n                </form>\n            </Modal>\n        );\n    }\n}\n\nexport default RegisterForm;","import React from 'react';\nimport Modal from 'react-bootstrap/Modal';\n\nfunction validateRequest(loginData){\n    if(!loginData.email.includes('@u.rochester.edu')){\n        return 'Please enter valid e-mail (must contain @u.rochester.edu)';\n    } else if(!loginData.password.length > 6){\n        return 'Please enter a secure password (6 characters or above)'\n    }\n\n    return '';\n}\n\nclass Login extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            apiUrl: props.apiUrl,\n            error: null,\n            onLoginChange: props.onLoginChange,\n            loginModalShow: props.loginModalShow,\n            loginModalChange: props.loginModalChange\n        };\n    }\n\n    componentDidUpdate(prevProps) {\n        const { loginModalShow: oldLoginModalShow } = prevProps;\n        const { loginModalShow } = this.props;\n\n        if (loginModalShow !== oldLoginModalShow) {\n            this.setState({ loginModalShow: loginModalShow });\n        }\n    }\n\n    handleSubmit(event) {\n        event.preventDefault();\n        const { onLoginChange } = this.state;\n        const loginModalChange = this.state.loginModalChange.bind(this);\n        const formData = new FormData(event.target);\n\n        const email = formData.get('email');\n        const password = formData.get('password');\n\n        const loginData = {\n            email,\n            password\n        };\n\n        const validationError = validateRequest(loginData);\n\n        if(validationError === ''){\n            fetch(`${this.state.apiUrl}/auth/login`, {\n                method: 'POST',\n                credentials: 'include',\n                body: JSON.stringify(loginData),\n                headers: {\n                    'content-type': 'application/json'\n                }\n            }).then(response =>\n                response.json()\n                    .then(data => {\n                        if(response.status === 200){\n                            loginModalChange(false);\n                            this.setState({\n                                error: null,\n                                registerModalShow: false\n                            });\n                            console.log(`Logged in as ${data.userId}`);\n                            onLoginChange({\n                                isLoggedIn: true,\n                                userId: data.userId\n                            });\n                        } else {\n                            this.setState({\n                                error: `${response.status} Error: ${data.message}`\n                            });\n                        }\n                    })\n            );\n        } else {\n            this.setState({\n                error: `Error: ${validationError}.`\n            });\n        }\n    }\n\n    render() {\n        const { loginModalShow, error } = this.state;\n        const loginModalChange = this.state.loginModalChange.bind(this);\n        const handleSubmit = this.handleSubmit.bind(this);\n\n        return (\n            <Modal show={loginModalShow} centered>\n                <Modal.Header>\n                    <h5 className=\"modal-title\" id=\"loginModalLabel\">Login to your account</h5>\n                </Modal.Header>\n                <form onSubmit={handleSubmit}>\n                    <Modal.Body>\n                        {error !== null &&\n                            <div className=\"alert alert-danger\" role=\"alert\">\n                                {error}\n                            </div>}\n                        <div className=\"form-group\">\n                            <input type=\"email\"\n                            className=\"form-control\"\n                            id=\"loginEmail\"\n                            name=\"email\"\n                            placeholder=\"email@u.rochester.edu\"\n                            autoComplete=\"username\"\n                            required />\n                        </div>\n                        <div className=\"form-group\">\n                            <input type=\"password\"\n                            className=\"form-control\"\n                            id=\"loginPassword\"\n                            name=\"password\"\n                            placeholder=\"Password\"\n                            autoComplete=\"current-password\"\n                            required />\n                        </div>\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <button\n                            onClick={loginModalChange}\n                            type=\"button\"\n                            className=\"btn btn-secondary\"\n                            value={false} >\n                            Close\n                        </button>\n                        <button\n                            type=\"submit\"\n                            id=\"loginButton\"\n                            className=\"btn btn-primary\">\n                            Login\n                        </button>\n                    </Modal.Footer>\n                </form>\n            </Modal>\n        );\n    }\n}\n\nexport default Login;","import React, { Component } from 'react';\nimport NavBar from './NavBar';\nimport FoodDeliveryForm from './FoodDeliveryForm';\nimport MyDeliveriesPanel from './MyDeliveriesPanel';\nimport RequestsPanel from './RequestsPanel';\nimport RegisterForm from './RegisterForm';\nimport LoginForm from './LoginForm';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {\n  HashRouter as Router,\n  Route,\n  Switch\n} from \"react-router-dom\";\n\nclass App extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            apiUrl: process.env.REACT_APP_API_URL,\n            isLoggedIn: false,\n            userId: null,\n            loginModalShow: false,\n            registerModalShow: false\n        };\n\n        this.startSession = this.startSession.bind(this);\n    }\n\n    componentDidMount(){\n        this.startSession();\n    }\n\n    async startSession(){\n        const { apiUrl } = this.state;\n\n        fetch(`${apiUrl}/auth/start-session`, {\n            method: 'GET',\n            credentials: 'include'\n        })\n            .then(response => {\n                if(!response.ok){\n                    throw new Error(response.statusText);\n                }\n                return response.json();\n            })\n            .then(data => {\n                this.setState({\n                    isLoggedIn: true,\n                    userId: data.userId\n                });\n            })\n            .catch(err => {});\n    }\n\n    onLoginChange(event){\n        this.setState({\n            isLoggedIn: event.isLoggedIn,\n            userId: event.userId\n        });\n    }\n\n    loginModalChange(event){\n        if(typeof event === \"boolean\"){\n            this.setState({\n                loginModalShow: event\n            });\n        } else if(typeof event.target.value === \"string\"){\n            this.setState({\n                loginModalShow: (event.target.value === \"true\")\n            });\n        } else {\n            throw new Error(\"Could not change login modal value.\");\n        }\n    }\n\n    registerModalChange(event){\n        if(typeof event === \"boolean\"){\n            this.setState({\n                registerModalShow: event\n            });\n        } else if(typeof event.target.value === \"string\"){\n            this.setState({\n                registerModalShow: (event.target.value === \"true\")\n            });\n        } else {\n            throw new Error(\"Could not change register modal value.\");\n        }\n    }\n\n    render() {\n        const { isLoggedIn, userId, apiUrl, loginModalShow, registerModalShow } = this.state;\n        const onLoginChange = this.onLoginChange.bind(this);\n        const loginModalChange = this.loginModalChange.bind(this);\n        const registerModalChange = this.registerModalChange.bind(this);\n\n        return (\n            <div id=\"App\" className=\"container\">\n                <Router basename={process.env.PUBLIC_URL}\n                        hashType=\"noslash\">\n                    <div id=\"navBar\">\n                        <NavBar\n                            apiUrl={apiUrl}\n                            title=\"PitBoss\"\n                            onLoginChange={onLoginChange}\n                            isLoggedIn={isLoggedIn}\n                            loginModalChange={loginModalChange}\n                            registerModalChange={registerModalChange} />\n                    </div>\n                    <RegisterForm\n                        apiUrl={apiUrl}\n                        onLoginChange={onLoginChange}\n                        registerModalShow={registerModalShow}\n                        registerModalChange={registerModalChange} />\n\n                    <LoginForm\n                        apiUrl={apiUrl}\n                        onLoginChange={onLoginChange}\n                        loginModalShow={loginModalShow}\n                        loginModalChange={loginModalChange} />\n                    <Switch>\n                        <Route exact path=\"/\" >\n                            <RequestsPanel\n                                apiUrl={apiUrl} />\n                        </Route>\n                        <Route\n                            exact path=\"/all-requests\"\n                            render={() =>\n                                    <RequestsPanel\n                                        apiUrl={apiUrl} />} />\n                        <Route\n                            exact path=\"/ask-for-delivery\"\n                            render={() =>\n                                <div id=\"deliveryForm\">\n                                    <FoodDeliveryForm\n                                        apiUrl={apiUrl}\n                                        isLoggedIn={isLoggedIn}\n                                        userId={userId} />\n                                </div>} />\n                        <Route\n                            exact path=\"/my-deliveries\"\n                            render={() =>\n                                <div id=\"myDeliveriesPanel\">\n                                    <MyDeliveriesPanel\n                                        apiUrl={apiUrl} />\n                                </div>} />\n                        <Route\n                            render={() =>\n                                <div id=\"error\">\n                                    <h4 class=\"alert alert-danger mb-0\" role=\"alert\">\n                                        404 error: Page not found.\n                                    </h4>\n                                </div>} />\n                    </Switch>\n                </Router>\n            </div>\n        );\n    }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}